<p>Network time protocol servers tell other computers <a href="https://en.wikipedia.org/wiki/Network_Time_Protocol" target="_blank">what time it is</a> and help keep the Internet in sync. But if your NTP server isn't properly secured, it can be hijacked into joining distributed denial of service attacks and knocking other machines offline.</p>

<p>Earlier this month, major video gaming servers including Steam, Battle.net and EA.com were <a href="http://www.theguardian.com/technology/2014/jan/03/online-gaming-steam-ddos-attack-ea-origin" target="_blank">struck</a> by distributed denial of service attacks. Reportedly, the attackers <a href="http://arstechnica.com/security/2014/01/dos-attacks-that-took-down-big-game-sites-abused-webs-time-synch-protocol/" target="_blank">used</a> a vulnerability in unpatched NTP software to blast these machines with a overwhelming volume of irrelevant data from time servers across the Internet. That type of attack has seen a "significant spike" since December, <a href="http://www.symantec.com/connect/blogs/hackers-spend-christmas-break-launching-large-scale-ntp-reflection-attacks" target="_blank">according</a> to security firm Symantec.</p>

<p>Ordinarily, NTP client software that ships with most major operating systems simply connects to NTP servers to ask the current time. But older servers also allow clients to request a log of the server's 600 most recent time interactions, <a href="http://blog.cloudflare.com/understanding-and-mitigating-ntp-based-ddos-attacks" target="_blank">explained</a> a blog post by CDN provider <a href="https://www.cloudflare.com/" target="_blank">CloudFlare's</a> John Graham-Cumming.</p>

<p>The request is just a few characters long, but the log can be multiple megabytes, so instead of just hitting a victim computer with data from their own computers or <a href="https://en.wikipedia.org/wiki/Botnet" target="_blank">bots</a> they control, attackers forge the victim's IP address on log requests to NTP servers across the Internet. Security researchers call that an amplification attack, since the small amount of bandwidth used by the attackers to send the short requests is amplified by the servers dutifully sending the complete logs to the unsuspecting victim.</p>

<p>To avoid being exploited in such an attack, NTP server owners running the Network Time Foundation's <a href="http://www.ntp.org/" target="_blank">standard NTP implementation</a> need to upgrade to at least NTP version 4.2.7p26, which disables the log request command, called monlist, wrote Graham-Cumming.</p>

<p>"Neither of these changes are recent," he wrote. "Ntpd v4.2.7p26 was released in March 24, 2010, so upgrading doesn't require using bleeding edge code."</p>

<p>Allowing anyone access to the NTP connection logs can be potentially risky anyway, since it allows information to leak about connections from nonpublic computers connected to the server, <a href="http://nmap.org/nsedoc/scripts/ntp-monlist.html" target="_blank">according</a> to the author of a plugin that lets the  security tool <a href="http://nmap.org/" target="_blank">nmap</a> detect this vulnerability.</p>

<p>In his blog post, Graham-Cumming advised NTP server owners to read security research group Team Cymru's guide to securing time <a href="https://www.team-cymru.org/ReadingRoom/Templates/secure-ntp-template.html" target="_blank">servers</a>.</p>