<p>Marko Mrdjenovič and a team of developers in Slovenia had a problem to overcome. They needed an easy way to collect data from their indoor environment so that they could monitor and adjust conditions for the better. There are plenty of inexpensive thermometers, hygrometers, and the like, but they wanted a single small sensor in an elegant enclosure—something that produced digital output the team could both display on an iPhone and collect for viewing historical trends—a programmable device.</p>

<p>They’ve dubbed the results <a href="http://cubesensors.com" target="_blank">CubeSensors</a>, and they will start shipping this summer. Put one of these small cube­-shaped wireless satellite receivers in your home or office, and you can monitor the room's lighting, temperature, humidity, noise levels, barometric pressure, and air quality from an app on your smartphone.</p>

<p>I sat down with Marko Mrdjenovič, Chief Technology Officer of CubeSensor to discuss the challenges of designing an attractive piece of complex sensing hardware, and then of developing an app that makes it easy for a typical consumer to control the hardware, with a UI that summarizes all of the data in a way that makes sense and is useful.</p>

<h3><a name="Find_A_Problem_That_Matters">Find A Problem That Matters</a></h3>

<p>“If you know what’s wrong with your environment, you can change it for the better,” Mrdjenovič says when I ask him about the motive to develop consumer-­grade environmental sensors. Since hardware is traditionally more expensive to develop than software, it’s vital you pick an acute problem, not something ancillary.</p>

<p>It’s easy to monitor and respond to the outside environment. There are all sorts of forecasts, websites, blogs, and agencies supplying data, and just think of all the different sorts of clothes, from galoshes to sou’westers, available for dealing with the most implacable conditions. But Mrdjenovič found very little aimed at indoor environments, the places where we likely spend the most time.</p>

<p>A sweater can be cozy, but we tend to think very little about the indoors beyond it being either too hot or too cold. And yet, indoor air pollution can be a serious problem, as in this example we reported on last year: <a href="http://www.fastcoexist.com/1679984/international-pacts-dont-work-the-world-is-still-on-track-for-environmental-disaster" target="_self">Indoor air pollution from particulate matter triggers nearly 2 million premature deaths each year</a>.</p>

<p>Mrdjenovič and the team envisioned the solution as a network of sensors. “In our minds we saw a base station and the cubes. You connect the base station to power and an Ethernet cable then put one cube in each room so you get measurements for all of your rooms. The cubes then read your environment and tell you ways you can change it for the better.”</p>

<p>It’s a wonderful-sounding vision, but with half-a-dozen power-hungry environmental sensors, how do you make the device small enough so that consumers will want to put one in each room of their house? And that’s just the hardware problem. Coming up with a compelling software presentation for so much data is another whole set of difficult problems to solve.</p>

<h3><a name="Nail_Your_Component_Advantage">Nail Your Component Advantage</a></h3>

<p>The team optimized the hardware for the main task by designing purpose­-built components. “The first prototypes, apart from the development boards were actually small, little motherboards will all the sensors on them,” Mrdjenovič explains. “We started off with basic weather station sensors—temperature, barometric pressure, and humidity—and tried to get the data to display on our phone."</p>

<figure class="inline-large inline">
<img src="http://www.fastcompany.com/multisite_files/fastcompany/imagecache/inline-large/inline/2013/04/3008331-inline-first30units12.jpeg" alt=""/>
</figure>

<p><em>The innards of early CubeScanner prototypes.</em></p>

<p>They started fairly standard sensors, but Mrdjenovič wanted something more cutting edge. Could they find a carbon dioxide sensor? They discovered “that there’s actually been quite a lot of development in the air quality space recently, so we switched to a VOC [Volatile organic compound] sensor,” he says. Not all VOCs are ­toxic, but there are plenty known to cause negative health effects from long-term exposure.</p>

<p>Where CO2 sensors are cheap and abundant, you won't find a lot of VOC sensors in homes and offices. Bingo, the team had hit upon a key differentiating component.</p>

<p>With VOC and six other sensors chosen, Mrdjenovič hacked together prototypes until everything was working correctly, at least from the hardware the hardware standpoint. Now he faced a who new set of challenges.</p>

<h3><a name="Looks_Are_Everything">Looks Are Everything</a></h3>

<p>“Most of the weather stations are currently ugly, grey, cheap plastic things that you have in a corner and even the sensors are weird looking,” Mrdjenovič says. “Making something that people would put on their coffee table and not in a corner hidden behind books was also very important for us.”</p>

<p>So his next step was working with a designer to make an attractive package for the sensors, which ended up being housed in a little cube shaped box.</p>

<p>Working with a designer, Mrdjenovič came up with a <a href="http://www.fastcodesign.com/1672094/cubesensors-measure-all-that-hot-air-produced-by-your-boss" target="_self">small cube-shaped box</a> to house all the sensors and an accelerometer. It didn’t take a huge feat of engineering to fit everything into the small box, but it did take time. But one more big problem remained—power consumption.</p>

<h3><a name="Problem_too_Big_Find_a_Partner">Problem too Big? Find a Partner.</a></h3>

<p>“The other sensors have been around for years so they’ve been optimized to run on relatively low power. VOC’s are sort of new and have seen more industrial use where power drain is not really a problem because you have them wired into huge machines that are connected to their own power sources,” Mrdjenovič explains.</p>

<p>“We contacted companies that make VOC sensors and tried to convince them to make something small and low power. One of them said yes and after a few months we had a testing unit to put on the testing boards. It works really well and we're very happy with it.”</p>

<p>In addition, the cubes had to communicate wirelessly, this was an integral element of the design throughout. But “getting the cubes to work very long on a single charge while continuously reading the sensors and sending the data wirelessly was one of the biggest challenges,” says Mrdjenovič. Any of the 802.11 WiFi or Bluetooth standard solutions would quickly drain power from the cubes, leaving them unable to process and transmit data every minute of every day.<br />
￼<br />
Changing batteries in a single device every month or so isn’t terribly bothersome, but with half-a-dozen cubes scattered around the house, you could easily end up recharging batteries every week. If the rechargeable batteries in a Bluetooth mouse, which collects and transfers very limited amounts of data to your computer, lasts on average a single month, how long could one expect cube sensors, which are constantly collecting and transmitting six types of environmental data every minute of every day, to last?</p>

<p>“Two months,” Mrdjenovič answers.</p>

<h3><a name="Look_At_All_The_Standards">Look At All The Standards</a></h3>

<p>With all that data transfer, a two-­month battery life seems unbelievable. How is that possible?</p>

<p>“The thing is that we’re not using Wi­-Fi,” Mrdjenovič explains. “We’re using ZigBee, which is an industrial protocol for wireless transfer in mass networks. So, it’s low power. We measure everything every minute and send all the data, but the sensors are all low power. We use a low power chip, a low power ZigBee profile. The goal was to be at least one month with the Cubes, but with the combination CubeSensors system, the ZigBee profile, and the VOC sensor we got two.”</p>

<p><a href="http://www.zigbee.org/Home.aspx" target="_blank">ZigBee</a> is an IEEE 802 protocol (802.15) that allows devices to transmit data over distances of up to 1000 meters using relatively low power. The standard is popular in industries that use devices in mesh networks (where one device transmits data to another, which transmits data to another, etc), and for home automation (wireless lights and locks), medical devices (glucose and blood pressure monitors), and home energy smartmonitors.</p>

<p>ZigBee’s low power consumption and its ability to transmit data over a mesh network meant it was a perfect fit for the Cubes.</p>

<h3><a name="Inventing_An_Object_Invent_Your_Own_Interface_Too">Inventing An Object? Invent Your Own Interface, Too</a></h3>

<p>Censors chosen, enclosure designed, power consumption solved, wireless decision made, and the software challenges loom ahead. You’ve got large amounts of environmental data to deal with and a typical consumer who wants to make sense of it all. For Mrdjenovič, this isn’t a problem. It’s an opportunity to make up your own freaking indices, and thus, The CubeScanner Index was born.</p>

<figure class="inline-large inline">
<img src="http://www.fastcompany.com/multisite_files/fastcompany/imagecache/inline-large/inline/2013/04/3008331-inline-tablet.png" alt=""/>
</figure>

<p><em>The CubeScanner index.</em></p>

<p>“At first when we started we had no idea where the numbers should be but after we’d been using them for a while we knew that, ‘Okay, 55 is good for humidity, over 60 is bad,’” Mrdjenovič explains. “The index allows you to get the number on the same scale for different environments. For example, the optimal light in an office is not the same as in a cellar. The optimal values are taken from different research papers on indoor environment effects on productivity, stress, and the like.”</p>

<p>Each sensor is represented by an icon that changes color, and each icon has an index number in the CubeSensor app. A glance at the color and index number for an icon is all a user needs to know if an environmental indicator is too low, too high, or within range. “The key issue with the UI is how to make sure the users are not scared when they first start using the Cubes, but are allowed to dig into data later when they start to understand what the numbers are,” Mrdjenovič says.</p>

<p>Just as importantly, if a reading is out of range, the app will suggest ways to improve the environmental factors. For example, lighting is very important in an office environment but it’s easy to become so engrossed in work that we forget to turn on the lights until it’s nearly dark. The CubeSensor app senses day turning to night and tells the user to increase the amount of room lighting.</p>

<h3><a name="Build_For_The_Web_If_Possible">Build For The Web (If Possible)</a></h3>

<p>The CubeScanners app is currently solely web­based. “It was way faster for prototyping because we were turning around the interface a lot and the time to get all the apps done was quite a bit longer,” Mrdjenovič explains. “Also, we wanted to do something that would work on all our devices because obviously we were the first beta testers and not all of us are iOS­based.”</p>

<figure class="inline-large inline">
<img src="http://www.fastcompany.com/multisite_files/fastcompany/imagecache/inline-large/inline/2013/04/3008331-inline-phone.png" alt=""/>
</figure>

<p><em>An early prototype of the web app interface.</em></p>

<p>While it’s easier and quicker to develop a single Web-­based app, doing so is not without its own challenges. “The biggest problem was handling all of the different phones and browsers” says Mrdjenovič. “They’re mostly all Webkit, but they’re not really all the same. Another problem we had was getting data to show in real time since the prototype CubeSensors give readings every five seconds. The phone browsers are not really the fastest in the universe.”</p>

<p>The Web app has responsiveness issues, but Mrdjenovič expects to have them ironed out before the product ships. The team can easily maintain a presence on all the platforms immediately, with the Web app, an advantage that easily outweighs any native app advantage for Mrdjenovič. “The mobile web is good enough for data apps and apps that are tied to other resources through links ­ inbound and outbound. Native apps are still the only thing powerful enough for graphics heavy development, but we don't have that need at CubeSensors. Browsers and JavaScript engines are improving with a crazy fast rate so more and more apps can use web technologies to provide easier portability and faster development. We think we might have to do native apps in the future, but that's only because we want to provide an amazing, fast and integrated experience for our users.”</p>

<p>As for expanding the ability of the Cubes, Mrdjenovič say that they will be releasing an API to developers interested in working with the sensors. He expects the API to be released shortly before the Cubes ship this summer.</p>

<h3><a name="Know_Your_Horizons">Know Your Horizons</a></h3>

<p>Finally, I put the question to Mrdjenovič about the future of personal sensing devices­­—what will the next several versions of CubeSensors become? Will we have Star Trek­-like Tricorders in our hands, soon?</p>

<p>“It would be good if we would know more about our environments. CubeSensors are the first step. But there’s still not a market where there’s a single dominating platform or even standards, so we’ll see how that goes,” says Mrdjenovič.</p>

<p>And what about other products in the home automation market—is there anything that impresses him? Is this the beginning of the automated home of the future?</p>

<p>“We see a lot of other development in the market, but unfortunately a lot of it is still targeted primarily towards the DIY market,” Mrdjenovič says. “There's nothing wrong with that, but we want the <a href="http://en.wikipedia.org/wiki/Internet_of_Things" target="_blank">‘Internet of Things’</a> to come to every home, and not just to people who know what to buy, how to put it together and connect it to the cloud. We hope more platforms and devices that are mass market friendly come out and that their makers will not opt for a walled garden approach when it gets to the data they produce and things they can do.”</p>

<p><em>Image courtesy of CubeSensors</em></p>